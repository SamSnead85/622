# ═══════════════════════════════════════
# CARAVAN / ZeroG — Server Configuration
# ═══════════════════════════════════════

# ── Database ──────────────────────────
DATABASE_URL=postgresql://user:password@localhost:5432/caravan?schema=public
# Prisma direct connection URL (optional — bypasses connection pooler for migrations)
# DIRECT_URL=postgresql://user:password@localhost:5432/caravan?schema=public

# ── Authentication ────────────────────
# REQUIRED — generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here-change-me
# Token lifetime (e.g. "7d", "24h")
JWT_EXPIRES_IN=7d

# ── Server ────────────────────────────
PORT=5180
NODE_ENV=development
# Comma-separated allowed origins for CORS
CORS_ORIGIN=http://localhost:3000
# Public-facing server URL (used for local file storage URLs)
SERVER_URL=http://localhost:5180
# Public-facing app URL (used in invite links, referrals)
APP_URL=http://localhost:3000
# Frontend URL (used in email templates)
FRONTEND_URL=http://localhost:3000
# Client URL (used for Stripe redirect URLs)
CLIENT_URL=http://localhost:3000
# Domain name for embed URLs (e.g. Twitch player parent param)
# DOMAIN=localhost

# ── Logging ───────────────────────────
# Levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# ── Redis ─────────────────────────────
# Required for caching, real-time socket.io adapter, notification queue, and scheduled jobs
# REDIS_URL=redis://localhost:6379

# ── Rate Limiting ─────────────────────
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ═══════════════════════════════════════
# MEDIA STORAGE
# ═══════════════════════════════════════

# Provider: local | supabase | s3 | r2
STORAGE_PROVIDER=local
STORAGE_BUCKET=caravan-media
# Local upload directory (only used when STORAGE_PROVIDER=local)
UPLOAD_DIR=./uploads

# ── Supabase Storage ─────────────────
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_KEY=your-service-role-key

# ── AWS S3 ────────────────────────────
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1

# ── Cloudflare R2 (S3-compatible) ────
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
# R2_PUBLIC_URL=https://media.yourdomain.com

# ── Cloudinary (image/video transforms) ──
# CLOUDINARY_CLOUD_NAME=
# CLOUDINARY_API_KEY=
# CLOUDINARY_API_SECRET=

# ═══════════════════════════════════════
# CDN / SIGNED URLs
# ═══════════════════════════════════════

# Secret for signing media URLs (auto-generated if not set)
# URL_SIGNING_SECRET=
# CDN base URL for public media
# CDN_URL=https://cdn.yourdomain.com
# Upload endpoint for signed upload URLs
# STORAGE_URL=https://storage.yourdomain.com

# ═══════════════════════════════════════
# EMAIL (Resend)
# ═══════════════════════════════════════

# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxx
# EMAIL_FROM=noreply@0gravity.ai
# EMAIL_FROM_NAME=0G Platform

# ═══════════════════════════════════════
# OAUTH PROVIDERS
# ═══════════════════════════════════════

# ── Google ────────────────────────────
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# ═══════════════════════════════════════
# SECURITY / ENCRYPTION
# ═══════════════════════════════════════

# 2FA & message encryption key (hex, 64 chars / 32 bytes)
# Generate with: openssl rand -hex 32
# ENCRYPTION_KEY=

# ═══════════════════════════════════════
# PAYMENTS (Stripe)
# ═══════════════════════════════════════

# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxx

# ═══════════════════════════════════════
# MONITORING (Sentry)
# ═══════════════════════════════════════

# SENTRY_DSN=https://xxxxxxxx@o0.ingest.sentry.io/0

# ═══════════════════════════════════════
# LIVE STREAMING (Mux)
# ═══════════════════════════════════════

# MUX_TOKEN_ID=your-mux-token-id
# MUX_TOKEN_SECRET=your-mux-token-secret
# MUX_WEBHOOK_SECRET=your-mux-webhook-signing-secret
